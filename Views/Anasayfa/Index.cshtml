@{
    ViewData["Title"] = "Ana Sayfa";
}

<!-- Slider Başlangıç -->
<div id="mainCarousel" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#mainCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#mainCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#mainCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner">
        <!-- İlk Slide -->
        <div class="carousel-item active">
            <img src="@Url.Content("~/images/1.jpg")" class="d-block w-100" alt="Saç Kesimi" loading="lazy">
            <div class="slider-title">
                <h1>Profesyonel Saç Kesimi</h1>
                <p>Modern ve klasik tarzlarda uzman kesimler.</p>
            </div>
        </div>
        <!-- İkinci Slide -->
        <div class="carousel-item">
            <img src="@Url.Content("~/images/2.jpg")" class="d-block w-100" alt="Saç Şekillendirme" loading="lazy">
            <div class="slider-title">
                <h1>Saç Şekillendirme</h1>
                <p>Profesyonel ürünlerle sağlıklı ve parlak saçlar.</p>
            </div>
        </div>
        <!-- Üçüncü Slide -->
        <div class="carousel-item">
            <img src="@Url.Content("~/images/berber-hizmeti.jpg")" class="d-block w-100" alt="Berber Hizmeti" loading="lazy">
            <div class="slider-title">
                <h1>Berber Hizmetleri</h1>
                <p>Erkeklere özel kesim ve bakımlar.</p>
            </div>
        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#mainCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Önceki</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#mainCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Sonraki</span>
    </button>
</div>
<!-- Slider Sonu -->
<!-- Kartlar Başlangıç -->
<div class="container my-5">
    <div class="row">
        <!-- Çalışanlar Kartı -->
        <div class="col-md-4 mb-4">
            <div class="card h-100 text-center">
                <div class="card-body">
                    <div class="card-icon">
                        <i class="bi bi-people-fill"></i>
                    </div>
                    <h5 class="card-title">Çalışanlar</h5>
                    <p class="card-text">Ekibimiz hakkında bilgi edinin ve çalışanlarımızı tanıyın.</p>
                </div>
                <div class="card-footer">
                    <a asp-controller="Calisan" asp-action="Index" class="btn btn-primary">Daha Fazla</a>
                </div>
            </div>
        </div>
        <!-- İşlemler Kartı -->
        <div class="col-md-4 mb-4">
            <div class="card h-100 text-center">
                <div class="card-body">
                    <div class="card-icon">
                        <i class="bi bi-gear-fill"></i>
                    </div>
                    <h5 class="card-title">İşlemler</h5>
                    <p class="card-text">Yürüttüğümüz işlemler ve sunduğumuz hizmetler hakkında bilgi alın.</p>
                </div>
                <div class="card-footer">
                    <a asp-controller="Islem" asp-action="Index" class="btn btn-primary">Daha Fazla</a>
                </div>
            </div>
        </div>
        <!-- Randevular Kartı -->
        <div class="col-md-4 mb-4">
            <div class="card h-100 text-center">
                <div class="card-body">
                    <div class="card-icon">
                        <i class="bi bi-calendar-check-fill"></i>
                    </div>
                    <h5 class="card-title">Randevular</h5>
                    <p class="card-text">Randevu almak ve yönetmek için gerekli adımları öğrenin.</p>
                </div>
                <div class="card-footer">
                    <a asp-controller="Randevu" asp-action="Index" class="btn btn-primary">Daha Fazla</a>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Kartlar Sonu -->
@{
    Layout = "~/Views/Shared/_Layout.cshtml"; // Ana Layout kullanılıyor
}

<h1>Hoşgeldiniz!</h1>
<p>Kuaför Uygulamasına Hoşgeldiniz. Randevu alabilir ve saç modeli önerisi alabilirsiniz.</p>

<h2>Fotoğraf Yükleyerek Saç Modeli Önerisi Al</h2>
<div class="mt-4">
    <input type="file" id="imageInput" accept="image/*" />
    <button id="uploadButton" class="btn btn-secondary mt-2">Fotoğraf Yükle</button>
</div>
<div id="uploadedImage" style="max-width:200px;" class="mt-4"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
    //jquery burda
    $(document).ready(function () {
        $("#uploadButton").click(function () {
            const fileInput = $("#imageInput")[0];
            const file = fileInput.files[0];

            if (!file) {
                alert("Lütfen bir fotoğraf seçin!");
                return;
            }
            const options =["101", "201", "301", "401", "501", "601", "701", "801", "901", "1001", "1101", "1201", "1301"];
            const randomOption = options[Math.floor(Math.random() * options.length)];


            const data = new FormData();
            data.append("image_target", file);
            data.append("hair_type", randomOption);

            $.ajax({
                url: "https://hairstyle-changer.p.rapidapi.com/huoshan/facebody/hairstyle",
                method: "POST",
                headers: {
                    'x-rapidapi-key': '5abd691723msh5875118067f34e2p12fadcjsn8242f90c015d',
                    'x-rapidapi-host': 'hairstyle-changer.p.rapidapi.com',
                },
                processData: false,
                contentType: false,
                data: data,
                success: function (response) {
                    const base64Image = response.data.image;
                    const imgElement = document.createElement("img");

                    imgElement.src = data:image/jpeg;base64,${base64Image};
                    imgElement.className = "img-thumbnail";
                    imgElement.style.width = "100%";
                    imgElement.style.height = "auto";
                    imgElement.style.marginTop = "20px";

                    $("#uploadedImage").html(imgElement);
                },
                error: function (xhr, status, error) {
                    alert("Bir hata oluştu. Lütfen tekrar deneyin.");
                    console.error("Error:", status, error);
                },
            });
        });
    });
</script>